# å“¡å·¥UIå‰ç«¯æ¸¬è©¦æŒ‡å— - Ranbow Restaurant Staff System

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

### å°ˆæ¡ˆè³‡è¨Š
- **å°ˆæ¡ˆåç¨±**: Ranbow Restaurant Staff UI
- **ç‰ˆæœ¬**: 2.0.0
- **æŠ€è¡“æ£§**: React 18 + TypeScript + Tailwind CSS + Vite
- **ç‹€æ…‹ç®¡ç†**: Zustand + React Query
- **å³æ™‚é€šè¨Š**: WebSocket (Socket.io)
- **æ¸¬è©¦æ¡†æ¶**: Vitest + React Testing Library

### ç³»çµ±æ¶æ§‹
```
staff-ui-react/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                # æ‡‰ç”¨ç¨‹å¼æ ¸å¿ƒé…ç½®
â”‚   â”œâ”€â”€ config/             # ç’°å¢ƒé…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ features/           # åŠŸèƒ½æ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ auth/          # èªè­‰ç³»çµ±
â”‚   â”‚   â”œâ”€â”€ dashboard/     # å„€è¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ kitchen/       # å»šæˆ¿ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ orders/        # è¨‚å–®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ statistics/    # çµ±è¨ˆåˆ†æ
â”‚   â”‚   â””â”€â”€ notifications/ # é€šçŸ¥ç³»çµ±
â”‚   â”œâ”€â”€ shared/            # å…±äº«å…ƒä»¶
â”‚   â””â”€â”€ styles/            # å…¨åŸŸæ¨£å¼
â”œâ”€â”€ .env.development       # é–‹ç™¼ç’°å¢ƒè®Šæ•¸
â”œâ”€â”€ .env.production        # ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸
â””â”€â”€ .env.test             # æ¸¬è©¦ç’°å¢ƒè®Šæ•¸
```

## ğŸš€ ç’°å¢ƒé…ç½®èˆ‡éƒ¨ç½²

### ç’°å¢ƒè®Šæ•¸ç®¡ç†

#### 1. ç’°å¢ƒé…ç½®æª”æ¡ˆçµæ§‹
ç³»çµ±ä½¿ç”¨ä¸‰å€‹ç’°å¢ƒé…ç½®æª”æ¡ˆï¼š
- `.env.development` - æœ¬åœ°é–‹ç™¼ç’°å¢ƒ
- `.env.production` - ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²
- `.env.test` - æ¸¬è©¦ç’°å¢ƒ

#### 2. ä¸»è¦ç’°å¢ƒè®Šæ•¸èªªæ˜

| è®Šæ•¸åç¨± | é–‹ç™¼ç’°å¢ƒ | ç”Ÿç”¢ç’°å¢ƒ | èªªæ˜ |
|---------|---------|---------|------|
| `VITE_API_BASE_URL` | `http://localhost:8081/api` | `http://192.168.0.113:8087/api` | APIä¼ºæœå™¨åœ°å€ |
| `VITE_WS_BASE_URL` | `ws://localhost:8081/ws` | `ws://192.168.0.113:8087/ws` | WebSocketé€£æ¥åœ°å€ |
| `VITE_ENVIRONMENT` | `development` | `production` | ç’°å¢ƒæ¨™è­˜ |
| `VITE_DEBUG_MODE` | `true` | `false` | é™¤éŒ¯æ¨¡å¼ |
| `VITE_ENABLE_DEVTOOLS` | `true` | `false` | é–‹ç™¼å·¥å…·å•Ÿç”¨ |

### ç’°å¢ƒåˆ‡æ›æ–¹å¼

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨npmè…³æœ¬ï¼ˆæ¨è–¦ï¼‰

```bash
# é–‹ç™¼ç’°å¢ƒï¼ˆè‡ªå‹•ä½¿ç”¨ .env.developmentï¼‰
npm run dev

# ç”Ÿç”¢ç’°å¢ƒæ§‹å»ºï¼ˆè‡ªå‹•ä½¿ç”¨ .env.productionï¼‰
npm run build

# æ¸¬è©¦ç’°å¢ƒï¼ˆè‡ªå‹•ä½¿ç”¨ .env.testï¼‰
npm run test
```

#### æ–¹æ³•äºŒï¼šæ‰‹å‹•æŒ‡å®šç’°å¢ƒæª”æ¡ˆ

```bash
# ä½¿ç”¨ç‰¹å®šç’°å¢ƒæª”æ¡ˆé€²è¡Œé–‹ç™¼
npx vite --mode development

# ä½¿ç”¨ç”Ÿç”¢ç’°å¢ƒé…ç½®é€²è¡Œæœ¬åœ°æ¸¬è©¦
npx vite --mode production

# æ§‹å»ºç‰¹å®šç’°å¢ƒç‰ˆæœ¬
npx vite build --mode production
```

#### æ–¹æ³•ä¸‰ï¼šç’°å¢ƒè®Šæ•¸è¦†è“‹

```bash
# Windows PowerShell
$env:VITE_API_BASE_URL="http://192.168.0.113:8087/api"
npm run dev

# Windows CMD
set VITE_API_BASE_URL=http://192.168.0.113:8087/api && npm run dev

# Linux/Mac
VITE_API_BASE_URL=http://192.168.0.113:8087/api npm run dev
```

### éƒ¨ç½²æµç¨‹

#### æœ¬åœ°é–‹ç™¼éƒ¨ç½²

```bash
# 1. å®‰è£ä¾è³´
cd staff-ui-react
npm install

# 2. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev

# 3. è¨ªå•æ‡‰ç”¨
# æ‰“é–‹ç€è¦½å™¨è¨ªå• http://localhost:5173
```

#### ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

```bash
# 1. æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬
npm run build

# 2. æª¢è¦–æ§‹å»ºçµæœ
# æ§‹å»ºæª”æ¡ˆæœƒç”Ÿæˆåœ¨ dist/ ç›®éŒ„ä¸‹

# 3. æœ¬åœ°é è¦½ç”Ÿç”¢ç‰ˆæœ¬
npm run preview

# 4. éƒ¨ç½²åˆ°ä¼ºæœå™¨
# å°‡ dist/ ç›®éŒ„å…§å®¹éƒ¨ç½²åˆ°Webä¼ºæœå™¨
# ä¾‹å¦‚ï¼šnginxã€apacheã€IISç­‰
```

#### Dockeréƒ¨ç½²ï¼ˆå¯é¸ï¼‰

```dockerfile
# Dockerfile ç¯„ä¾‹
FROM node:18-alpine as builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

## ğŸ§ª æ¸¬è©¦æŒ‡å—

### å–®å…ƒæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm run test

# åŸ·è¡Œæ¸¬è©¦ä¸¦é¡¯ç¤ºUI
npm run test:ui

# åŸ·è¡Œæ¸¬è©¦ä¸€æ¬¡ï¼ˆCI/CDç”¨ï¼‰
npm run test:run

# æ¸¬è©¦ç‰¹å®šæª”æ¡ˆ
npm run test -- OrderCard.test.tsx

# æ¸¬è©¦è¦†è“‹ç‡å ±å‘Š
npm run test -- --coverage
```

### åŠŸèƒ½æ¸¬è©¦æ¸…å–®

#### 1. èªè­‰ç³»çµ±æ¸¬è©¦
- [ ] ç™»å…¥åŠŸèƒ½
  - [ ] æœ‰æ•ˆæ†‘è­‰ç™»å…¥æˆåŠŸ
  - [ ] ç„¡æ•ˆæ†‘è­‰é¡¯ç¤ºéŒ¯èª¤
  - [ ] è¨˜ä½ç™»å…¥ç‹€æ…‹
  - [ ] è‡ªå‹•ç™»å‡ºï¼ˆé–’ç½®è¶…æ™‚ï¼‰
- [ ] æ¬Šé™é©—è­‰
  - [ ] è·¯ç”±ä¿è­·
  - [ ] åŠŸèƒ½æ¬Šé™æ§åˆ¶

#### 2. è¨‚å–®ç®¡ç†æ¸¬è©¦
- [ ] è¨‚å–®åˆ—è¡¨
  - [ ] å³æ™‚æ›´æ–°ï¼ˆWebSocketï¼‰
  - [ ] ç‹€æ…‹ç¯©é¸
  - [ ] æœå°‹åŠŸèƒ½
  - [ ] åˆ†é è¼‰å…¥
- [ ] è¨‚å–®æ“ä½œ
  - [ ] æ¥å—è¨‚å–®
  - [ ] æº–å‚™è¨‚å–®
  - [ ] å®Œæˆè¨‚å–®
  - [ ] å–æ¶ˆè¨‚å–®

#### 3. å»šæˆ¿ç®¡ç†æ¸¬è©¦
- [ ] å»šæˆ¿éšŠåˆ—
  - [ ] è¨‚å–®å„ªå…ˆç´šæ’åº
  - [ ] è¨ˆæ™‚å™¨åŠŸèƒ½
  - [ ] å·¥ä½œç«™åˆ†é…
- [ ] å»šæˆ¿é¡¯ç¤ºå™¨
  - [ ] å¤§å±æ¨¡å¼
  - [ ] è‡ªå‹•åˆ·æ–°
  - [ ] è²éŸ³æé†’

#### 4. çµ±è¨ˆåˆ†ææ¸¬è©¦
- [ ] å¯¦æ™‚çµ±è¨ˆ
  - [ ] ä»Šæ—¥ç‡Ÿæ”¶
  - [ ] è¨‚å–®æ•¸é‡
  - [ ] å¹³å‡è™•ç†æ™‚é–“
- [ ] å ±è¡¨ç”Ÿæˆ
  - [ ] æ—¥å ±è¡¨
  - [ ] é€±å ±è¡¨
  - [ ] æœˆå ±è¡¨

### æ•´åˆæ¸¬è©¦

```bash
# æ¸¬è©¦APIé€£æ¥
# 1. ç¢ºä¿å¾Œç«¯æœå‹™é‹è¡Œåœ¨é…ç½®çš„åœ°å€
# 2. åŸ·è¡Œæ•´åˆæ¸¬è©¦è…³æœ¬

# é–‹ç™¼ç’°å¢ƒæ¸¬è©¦
curl http://localhost:8081/api/health

# ç”Ÿç”¢ç’°å¢ƒæ¸¬è©¦
curl http://192.168.0.113:8087/api/health
```

### E2Eæ¸¬è©¦æµç¨‹

#### æ¸¬è©¦å ´æ™¯ä¸€ï¼šå®Œæ•´è¨‚å–®è™•ç†æµç¨‹

1. **ç™»å…¥ç³»çµ±**
   - ä½¿ç”¨æ¸¬è©¦å¸³è™Ÿç™»å…¥
   - é©—è­‰å°å‘å„€è¡¨æ¿

2. **æ¥æ”¶æ–°è¨‚å–®**
   - æª¢æŸ¥WebSocketé€£æ¥
   - é©—è­‰è¨‚å–®é€šçŸ¥
   - ç¢ºèªè¨‚å–®é¡¯ç¤ºåœ¨åˆ—è¡¨

3. **è™•ç†è¨‚å–®**
   - æ¥å—è¨‚å–®
   - æ›´æ”¹ç‹€æ…‹ç‚ºæº–å‚™ä¸­
   - å®Œæˆè¨‚å–®
   - é©—è­‰ç‹€æ…‹æ›´æ–°

4. **æŸ¥çœ‹çµ±è¨ˆ**
   - æª¢æŸ¥è¨‚å–®è¨ˆæ•¸æ›´æ–°
   - é©—è­‰ç‡Ÿæ”¶çµ±è¨ˆ

#### æ¸¬è©¦å ´æ™¯äºŒï¼šå¤šè£ç½®åŒæ­¥æ¸¬è©¦

1. **é–‹å•Ÿå¤šå€‹ç€è¦½å™¨è¦–çª—**
   - æ¨¡æ“¬å¤šå€‹å“¡å·¥åŒæ™‚æ“ä½œ

2. **åŸ·è¡Œä¸¦ç™¼æ“ä½œ**
   - åŒæ™‚æ›´æ–°è¨‚å–®ç‹€æ…‹
   - é©—è­‰è¡çªè™•ç†

3. **æª¢æŸ¥æ•¸æ“šä¸€è‡´æ€§**
   - ç¢ºèªæ‰€æœ‰è¦–çª—é¡¯ç¤ºä¸€è‡´
   - é©—è­‰æ•¸æ“šåº«ç‹€æ…‹æ­£ç¢º

## ğŸ“± éŸ¿æ‡‰å¼æ¸¬è©¦

### è£ç½®æ¸¬è©¦æ¸…å–®

| è£ç½®é¡å‹ | è§£æåº¦ | æ¸¬è©¦é‡é» |
|---------|--------|---------|
| æ‰‹æ©Ÿ | 375x667 | è§¸æ§æ“ä½œã€å‚ç›´æ»¾å‹• |
| å¹³æ¿ | 768x1024 | æ©«è±å±åˆ‡æ›ã€æ‰‹å‹¢æ“ä½œ |
| æ¡Œé¢ | 1920x1080 | éµç›¤å¿«æ·éµã€æ»‘é¼ äº’å‹• |
| å¤§å± | 2560x1440 | å»šæˆ¿é¡¯ç¤ºå™¨æ¨¡å¼ |

### ç€è¦½å™¨ç›¸å®¹æ€§

- [x] Chrome (90+)
- [x] Firefox (88+)
- [x] Safari (14+)
- [x] Edge (90+)
- [ ] Opera
- [ ] Mobile Safari
- [ ] Chrome Mobile

## ğŸ› å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

### 1. APIé€£æ¥å¤±æ•—

**å•é¡Œæè¿°**: ç„¡æ³•é€£æ¥åˆ°å¾Œç«¯APIä¼ºæœå™¨

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æª¢æŸ¥ç’°å¢ƒè®Šæ•¸é…ç½®
cat .env.development | grep API_BASE_URL

# ç¢ºèªå¾Œç«¯æœå‹™é‹è¡Œ
curl http://localhost:8081/api/health

# æª¢æŸ¥ç¶²è·¯é€£æ¥
ping 192.168.0.113
```

### 2. WebSocketæ–·ç·šé‡é€£

**å•é¡Œæè¿°**: WebSocketé€£æ¥ç¶“å¸¸æ–·é–‹

**è§£æ±ºæ–¹æ¡ˆ**:
- æª¢æŸ¥ `VITE_WS_RECONNECT_INTERVAL` è¨­å®š
- ç¢ºèªé˜²ç«ç‰†è¨­å®šå…è¨±WebSocketé€£æ¥
- æª¢æŸ¥å¾Œç«¯WebSocketæœå‹™ç‹€æ…‹

### 3. ç’°å¢ƒè®Šæ•¸æœªç”Ÿæ•ˆ

**å•é¡Œæè¿°**: ä¿®æ”¹ç’°å¢ƒè®Šæ•¸å¾Œæœªç”Ÿæ•ˆ

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æ¸…é™¤å¿«å–ä¸¦é‡æ–°å•Ÿå‹•
rm -rf node_modules/.vite
npm run dev

# ç¢ºèªç’°å¢ƒè®Šæ•¸è¼‰å…¥
# åœ¨ src/config/env.config.ts ä¸­å•Ÿç”¨ DEBUG_MODE
```

### 4. æ§‹å»ºå¤±æ•—

**å•é¡Œæè¿°**: åŸ·è¡Œ npm run build å¤±æ•—

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æ¸…ç†ä¸¦é‡æ–°å®‰è£ä¾è³´
rm -rf node_modules package-lock.json
npm install

# æª¢æŸ¥TypeScriptéŒ¯èª¤
npm run type-check

# æª¢æŸ¥ESLintéŒ¯èª¤
npm run lint
```

## ğŸ” æ•ˆèƒ½æ¸¬è©¦

### Lighthouseæ¸¬è©¦æŒ‡æ¨™

ç›®æ¨™åˆ†æ•¸ï¼š
- Performance: > 90
- Accessibility: > 95
- Best Practices: > 90
- SEO: > 90

### é—œéµæ•ˆèƒ½æŒ‡æ¨™ (KPI)

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | å¯¦æ¸¬å€¼ |
|-----|--------|--------|
| First Contentful Paint (FCP) | < 1.5s | - |
| Largest Contentful Paint (LCP) | < 2.5s | - |
| Time to Interactive (TTI) | < 3.5s | - |
| Cumulative Layout Shift (CLS) | < 0.1 | - |
| First Input Delay (FID) | < 100ms | - |

### è² è¼‰æ¸¬è©¦

```bash
# ä½¿ç”¨ Apache Bench é€²è¡Œè² è¼‰æ¸¬è©¦
ab -n 1000 -c 10 http://localhost:5173/

# ä½¿ç”¨ Artillery é€²è¡Œå ´æ™¯æ¸¬è©¦
artillery quick --count 50 --num 10 http://localhost:5173/
```

## ğŸ“Š ç›£æ§èˆ‡æ—¥èªŒ

### å‰ç«¯éŒ¯èª¤ç›£æ§

```javascript
// éŒ¯èª¤é‚Šç•Œé…ç½® (å·²æ•´åˆåœ¨æ‡‰ç”¨ä¸­)
// src/app/App.tsx ä½¿ç”¨ ErrorBoundary åŒ…è£¹

// æŸ¥çœ‹æ§åˆ¶å°æ—¥èªŒ
// é–‹ç™¼ç’°å¢ƒæœƒé¡¯ç¤ºè©³ç´°éŒ¯èª¤ä¿¡æ¯
// ç”Ÿç”¢ç’°å¢ƒåƒ…è¨˜éŒ„é—œéµéŒ¯èª¤
```

### æ•ˆèƒ½ç›£æ§

```javascript
// ä½¿ç”¨ React DevTools Profiler
// 1. å®‰è£ React Developer Tools æ“´å……åŠŸèƒ½
// 2. é–‹å•Ÿ Profiler æ¨™ç±¤
// 3. è¨˜éŒ„æ“ä½œä¸¦åˆ†ææ•ˆèƒ½ç“¶é ¸
```

### ç¶²è·¯è«‹æ±‚ç›£æ§

```javascript
// æ‰€æœ‰APIè«‹æ±‚éƒ½æœƒåœ¨é–‹ç™¼å·¥å…·çš„Networkæ¨™ç±¤ä¸­é¡¯ç¤º
// å¯ä»¥æŸ¥çœ‹ï¼š
// - è«‹æ±‚æ™‚é–“
// - å›æ‡‰ç‹€æ…‹
// - è³‡æ–™è² è¼‰
// - WebSocketè¨Šæ¯
```

## ğŸš¦ ç™¼å¸ƒæª¢æŸ¥æ¸…å–®

### ç™¼å¸ƒå‰æª¢æŸ¥

- [ ] æ‰€æœ‰æ¸¬è©¦é€šé (`npm run test:run`)
- [ ] TypeScript ç„¡éŒ¯èª¤ (`npm run type-check`)
- [ ] ESLint ç„¡è­¦å‘Š (`npm run lint`)
- [ ] æ§‹å»ºæˆåŠŸ (`npm run build`)
- [ ] ç’°å¢ƒè®Šæ•¸é…ç½®æ­£ç¢º
- [ ] APIé€£æ¥æ¸¬è©¦é€šé
- [ ] WebSocketåŠŸèƒ½æ­£å¸¸
- [ ] éŸ¿æ‡‰å¼è¨­è¨ˆæ¸¬è©¦å®Œæˆ
- [ ] ç€è¦½å™¨ç›¸å®¹æ€§æ¸¬è©¦å®Œæˆ
- [ ] æ•ˆèƒ½æŒ‡æ¨™é”æ¨™

### ç™¼å¸ƒå¾Œé©—è­‰

- [ ] ç”Ÿç”¢ç’°å¢ƒè¨ªå•æ­£å¸¸
- [ ] ç™»å…¥åŠŸèƒ½æ­£å¸¸
- [ ] è¨‚å–®å³æ™‚æ›´æ–°æ­£å¸¸
- [ ] çµ±è¨ˆæ•¸æ“šæ­£ç¢º
- [ ] ç„¡æ§åˆ¶å°éŒ¯èª¤
- [ ] ç›£æ§ç³»çµ±æ­£å¸¸

## ğŸ“ æ¸¬è©¦å ±å‘Šæ¨¡æ¿

```markdown
## æ¸¬è©¦å ±å‘Š - [æ—¥æœŸ]

### æ¸¬è©¦ç’°å¢ƒ
- ç’°å¢ƒï¼š[é–‹ç™¼/æ¸¬è©¦/ç”Ÿç”¢]
- ç‰ˆæœ¬ï¼šv2.0.0
- æ¸¬è©¦äººå“¡ï¼š[å§“å]

### æ¸¬è©¦çµæœæ‘˜è¦
- é€šéæ¸¬è©¦ï¼š[æ•¸é‡]
- å¤±æ•—æ¸¬è©¦ï¼š[æ•¸é‡]
- è·³éæ¸¬è©¦ï¼š[æ•¸é‡]

### è©³ç´°æ¸¬è©¦çµæœ
[æ¸¬è©¦é …ç›®åˆ—è¡¨åŠçµæœ]

### ç™¼ç¾çš„å•é¡Œ
[å•é¡Œæè¿°åŠå„ªå…ˆç´š]

### å»ºè­°èˆ‡æ”¹é€²
[æ”¹é€²å»ºè­°]
```

---

**æœ€å¾Œæ›´æ–°æ™‚é–“**: 2025-01-25  
**ç¶­è­·åœ˜éšŠ**: Ranbow Restaurant Development Team